{% extends "base.html" %}

{% block title %}Biblioteca Arion - Traduccions de cl√†ssics al catal√†{% endblock %}
{% block description %}Biblioteca oberta de traduccions al catal√† d'obres cl√†ssiques universals. Filosofia, literatura, teatre i poesia.{% endblock %}

{% block content %}
<!-- Hero Section - Redu√Øda -->
<section class="hero hero-compact">
    <div class="container">
        <h1>Biblioteca Arion</h1>
        <p class="hero-subtitle">
            Traduccions obertes de cl√†ssics universals al catal√†
        </p>

        <!-- Cercador prominent -->
        <form class="hero-search" action="{{ base_url }}cerca.html" method="GET">
            <input type="search" name="q" placeholder="Cercar obres, autors, temes..." autocomplete="off">
            <button type="submit">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
                Cercar
            </button>
        </form>

        <!-- Stats -->
        {% if stats %}
        <div class="hero-stats">
            <span><strong>{{ stats.total_obres }}</strong> {% if stats.total_obres == 1 %}obra{% else %}obres{% endif %}</span>
            <span class="stats-separator">¬∑</span>
            <span><strong>{{ stats.total_autors }}</strong> {% if stats.total_autors == 1 %}autor{% else %}autors{% endif %}</span>
            <span class="stats-separator">¬∑</span>
            <span><strong>{{ stats.total_paraules|default(0)|int }}</strong> paraules</span>
        </div>
        {% endif %}
    </div>
</section>

<!-- √öltimes Obres - Carrousel -->
<section class="latest-works">
    <div class="container">
        <div class="section-header">
            <h2>üìö √öltimes obres</h2>
            {% if obres|length > 5 %}
            <div class="carousel-nav">
                <button class="nav-arrow prev" aria-label="Anterior" disabled>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                </button>
                <button class="nav-arrow next" aria-label="Seg√ºent">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </button>
            </div>
            {% endif %}
        </div>

        {% if obres %}
        <div class="works-carousel">
            <div class="carousel-track">
                {% for obra in obres[:10] %}
                <article class="work-card-carousel">
                    <a href="{{ base_url }}{{ obra.slug }}.html" class="work-card-link">
                        <div class="work-cover">
                            {% if obra.portada_url %}
                            <img src="{{ base_url }}{{ obra.portada_url }}"
                                 alt="Portada de {{ obra.titol }}"
                                 loading="lazy">
                            {% else %}
                            <div class="work-cover-placeholder">
                                <span>{{ obra.titol[:1] }}</span>
                            </div>
                            {% endif %}
                            {% if obra.estat %}
                            <span class="badge badge-status-{{ obra.estat }}">{{ obra.estat }}</span>
                            {% endif %}
                        </div>
                        <div class="work-info">
                            <h3 class="work-title">{{ obra.titol }}</h3>
                            <p class="work-author">{{ obra.autor }}</p>
                            {% if obra.llengua_original %}
                            <p class="work-meta">{{ obra.llengua_original|capitalize }}{% if obra.any_original %} ¬∑ {{ obra.any_original }}{% endif %}</p>
                            {% endif %}
                        </div>
                    </a>
                </article>
                {% endfor %}
            </div>
        </div>

        {% if obres|length > 10 %}
        <div class="see-all">
            <a href="{{ base_url }}cataleg.html" class="btn-secondary">Veure totes les obres ‚Üí</a>
        </div>
        {% endif %}

        {% else %}
        <div class="empty-state">
            <p>Pr√≤ximament nous textos tradu√Øts.</p>
            <p><small>El cat√†leg s'anir√† ampliant amb traduccions de textos cl√†ssics.</small></p>
        </div>
        {% endif %}
    </div>
</section>

<!-- Features -->
<section class="features">
    <div class="container">
        <div class="features-grid">
            <div class="feature">
                <div class="feature-icon">üìñ</div>
                <h3>Text biling√ºe</h3>
                <p>Original i traducci√≥ en paral¬∑lel per a una lectura comparada</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üìù</div>
                <h3>Notes explicatives</h3>
                <p>Context hist√≤ric, filos√≤fic i cultural per cada obra</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üìö</div>
                <h3>Glossari</h3>
                <p>Termes clau amb definicions i etimologies</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üîì</div>
                <h3>Llic√®ncia oberta</h3>
                <p>CC BY-SA 4.0 - Lliure per usar i compartir</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}
